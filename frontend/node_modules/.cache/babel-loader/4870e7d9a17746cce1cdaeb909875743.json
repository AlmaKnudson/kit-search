{"ast":null,"code":"import _slicedToArray from \"/Users/almaknudson/biobots/biobot-kit-search/packages/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _this = this,\n  _jsxFileName = \"/Users/almaknudson/biobots/biobot-kit-search/packages/frontend/src/components/KitSearch.tsx\";\nimport React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport Autosuggest from 'react-autosuggest';\nvar KitSearch = function KitSearch() {\n  var _useState = useState([]),\n    _useState2 = _slicedToArray(_useState, 2),\n    kits = _useState2[0],\n    setKits = _useState2[1];\n  var _useState3 = useState([]),\n    _useState4 = _slicedToArray(_useState3, 2),\n    suggestions = _useState4[0],\n    setSuggestions = _useState4[1];\n  var _useState5 = useState(''),\n    _useState6 = _slicedToArray(_useState5, 2),\n    inputValue = _useState6[0],\n    setInputValue = _useState6[1];\n  var _useState7 = useState(''),\n    _useState8 = _slicedToArray(_useState7, 2),\n    kitStatus = _useState8[0],\n    setKitStatus = _useState8[1]; // Fetch all kit ids when the component mounts\n  useEffect(function () {\n    axios.get('http://localhost:3001/kits').then(function (response) {\n      setKits(response.data);\n    }).catch(function (error) {\n      console.error('An error occurred while fetching kits:', error);\n    });\n  }, []);\n\n  // Fetching kit status based on id\n  var getKitStatus = function getKitStatus(kitId) {\n    axios.get(\"http://localhost:3001/kits/\".concat(kitId, \"/status\")).then(function (response) {\n      console.log('Kit status:', response.data); // Debugging\n      setKitStatus(JSON.stringify(response.data));\n    }).catch(function (error) {\n      console.error('An error occurred while fetching kit status:', error);\n    });\n  };\n\n  // Autosuggest methods\n  var getSuggestions = function getSuggestions(value) {\n    var inputValue = value.trim().toLowerCase();\n    var inputLength = inputValue.length;\n    return inputLength === 0 ? [] : kits.filter(function (kit) {\n      return kit.toString().toLowerCase().slice(0, inputLength) === inputValue;\n    });\n  };\n  var onSuggestionsFetchRequested = function onSuggestionsFetchRequested(_ref) {\n    var value = _ref.value;\n    setSuggestions(getSuggestions(value));\n  };\n  var onSuggestionsClearRequested = function onSuggestionsClearRequested() {\n    setSuggestions([]);\n  };\n  var onSuggestionSelected = function onSuggestionSelected(_event, _ref2) {\n    var suggestion = _ref2.suggestion;\n    console.log('Selected kit ID:', suggestion); // Debugging\n    getKitStatus(suggestion);\n  };\n  var onChange = function onChange(_event, _ref3) {\n    var newValue = _ref3.newValue;\n    setInputValue(newValue);\n  };\n\n  // Input properties\n  var inputProps = {\n    placeholder: 'Search for a kit...',\n    value: inputValue,\n    onChange: onChange\n  };\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Autosuggest, {\n    suggestions: suggestions,\n    onSuggestionsFetchRequested: onSuggestionsFetchRequested,\n    onSuggestionsClearRequested: onSuggestionsClearRequested,\n    getSuggestionValue: function getSuggestionValue(suggestion) {\n      return suggestion.toString();\n    },\n    renderSuggestion: function renderSuggestion(suggestion) {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 41\n        }\n      }, suggestion);\n    },\n    onSuggestionSelected: onSuggestionSelected,\n    inputProps: inputProps,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"strong\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 9\n    }\n  }, \"Kit Status:\"), \" \", kitStatus));\n};\nexport default KitSearch;","map":{"version":3,"names":["React","useState","useEffect","axios","Autosuggest","KitSearch","_useState","_useState2","_slicedToArray","kits","setKits","_useState3","_useState4","suggestions","setSuggestions","_useState5","_useState6","inputValue","setInputValue","_useState7","_useState8","kitStatus","setKitStatus","get","then","response","data","catch","error","console","getKitStatus","kitId","concat","log","JSON","stringify","getSuggestions","value","trim","toLowerCase","inputLength","length","filter","kit","toString","slice","onSuggestionsFetchRequested","_ref","onSuggestionsClearRequested","onSuggestionSelected","_event","_ref2","suggestion","onChange","_ref3","newValue","inputProps","placeholder","createElement","__self","_this","__source","fileName","_jsxFileName","lineNumber","columnNumber","getSuggestionValue","renderSuggestion"],"sources":["/Users/almaknudson/biobots/biobot-kit-search/packages/frontend/src/components/KitSearch.tsx"],"sourcesContent":["import React, { useState, useEffect, ChangeEvent } from 'react';\nimport axios from 'axios';\nimport Autosuggest, { SuggestionsFetchRequestedParams, InputProps } from 'react-autosuggest';\n\n\nconst KitSearch: React.FC = () => {\n  const [kits, setKits] = useState<number[]>([]);\n  const [suggestions, setSuggestions] = useState<number[]>([]);\n  const [inputValue, setInputValue] = useState<string>('');\n  const [kitStatus, setKitStatus] = useState<string>('');\n\n  // Fetch all kit ids when the component mounts\n  useEffect(() => {\n    axios.get<number[]>('http://localhost:3001/kits')\n      .then(response => {\n        setKits(response.data);\n      })\n      .catch(error => {\n        console.error('An error occurred while fetching kits:', error);\n      });\n  }, []);\n\n  // Fetching kit status based on id\n  const getKitStatus = (kitId: number) => {\n    axios.get<{ status: string }>(`http://localhost:3001/kits/${kitId}/status`)\n      .then(response => {\n        console.log('Kit status:', response.data); // Debugging\n        setKitStatus(JSON.stringify(response.data));\n      })\n      .catch(error => {\n        console.error('An error occurred while fetching kit status:', error);\n      });\n  };\n\n  // Autosuggest methods\n  const getSuggestions = (value: string) => {\n    const inputValue = value.trim().toLowerCase();\n    const inputLength = inputValue.length;\n\n    return inputLength === 0 ? [] : kits.filter(kit =>\n      kit.toString().toLowerCase().slice(0, inputLength) === inputValue\n    );\n  };\n\n  const onSuggestionsFetchRequested = ({ value }: SuggestionsFetchRequestedParams) => {\n    setSuggestions(getSuggestions(value));\n  };\n\n  const onSuggestionsClearRequested = () => {\n    setSuggestions([]);\n  };\n\n  const onSuggestionSelected = (_event: any, { suggestion }: { suggestion: number }) => {\n  console.log('Selected kit ID:', suggestion); // Debugging\n  getKitStatus(suggestion);\n};\n\n  const onChange = (_event: ChangeEvent, { newValue }: { newValue: string }) => {\n    setInputValue(newValue);\n  };\n\n// Input properties\nconst inputProps: InputProps<number> = {\n  placeholder: 'Search for a kit...',\n  value: inputValue,\n  onChange: onChange as unknown as (event: React.FormEvent<any>, params: { newValue: string; method: string; }) => void,\n};\n\n\n  return (\n    <div>\n      <Autosuggest\n        suggestions={suggestions}\n        onSuggestionsFetchRequested={onSuggestionsFetchRequested}\n        onSuggestionsClearRequested={onSuggestionsClearRequested}\n        getSuggestionValue={suggestion => suggestion.toString()}\n        renderSuggestion={suggestion => <div>{suggestion}</div>}\n        onSuggestionSelected={onSuggestionSelected}\n        inputProps={inputProps}\n      />\n      <div>\n        <strong>Kit Status:</strong> {kitStatus}\n      </div>\n    </div>\n  );\n};\n\nexport default KitSearch;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}