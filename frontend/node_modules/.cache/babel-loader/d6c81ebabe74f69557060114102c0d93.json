{"ast":null,"code":"import _slicedToArray from \"/Users/almaknudson/biobots/biobot-kit-search/packages/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _this = this,\n  _jsxFileName = \"/Users/almaknudson/biobots/biobot-kit-search/packages/frontend/src/components/KitSearch.tsx\";\nimport React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport Autosuggest from 'react-autosuggest';\nvar KitSearch = function KitSearch() {\n  var _useState = useState([]),\n    _useState2 = _slicedToArray(_useState, 2),\n    kits = _useState2[0],\n    setKits = _useState2[1];\n  var _useState3 = useState([]),\n    _useState4 = _slicedToArray(_useState3, 2),\n    suggestions = _useState4[0],\n    setSuggestions = _useState4[1];\n  var _useState5 = useState(''),\n    _useState6 = _slicedToArray(_useState5, 2),\n    inputValue = _useState6[0],\n    setInputValue = _useState6[1];\n  var _useState7 = useState(''),\n    _useState8 = _slicedToArray(_useState7, 2),\n    kitStatus = _useState8[0],\n    setKitStatus = _useState8[1]; // Fetch all kit ids when the component mounts\n  useEffect(function () {\n    axios.get('localhost:3001/kits').then(function (response) {\n      setKits(response.data);\n    }).catch(function (error) {\n      console.error('An error occurred while fetching kits:', error);\n    });\n  }, []);\n\n  // Fetching kit status based on id\n  var getKitStatus = function getKitStatus(kitId) {\n    axios.get(\"localhost:3001/kit/\".concat(kitId, \"/status\")).then(function (response) {\n      setKitStatus(response.data.status);\n    }).catch(function (error) {\n      console.error('An error occurred while fetching kit status:', error);\n    });\n  };\n\n  // Autosuggest methods\n  var getSuggestions = function getSuggestions(value) {\n    var inputValue = value.trim().toLowerCase();\n    var inputLength = inputValue.length;\n    return inputLength === 0 ? [] : kits.filter(function (kit) {\n      return kit.id.toString().toLowerCase().slice(0, inputLength) === inputValue;\n    });\n  };\n  var onSuggestionsFetchRequested = function onSuggestionsFetchRequested(_ref) {\n    var value = _ref.value;\n    setSuggestions(getSuggestions(value));\n  };\n  var onSuggestionsClearRequested = function onSuggestionsClearRequested() {\n    setSuggestions([]);\n  };\n  var onSuggestionSelected = function onSuggestionSelected(_event, _ref2) {\n    var suggestion = _ref2.suggestion;\n    getKitStatus(suggestion.id);\n  };\n  var onChange = function onChange(_event, _ref3) {\n    var newValue = _ref3.newValue;\n    setInputValue(newValue);\n  };\n\n  // Input properties\n  var inputProps = {\n    placeholder: 'Search for a kit...',\n    value: inputValue,\n    onChange: onChange\n  };\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Autosuggest, {\n    suggestions: suggestions,\n    onSuggestionsFetchRequested: onSuggestionsFetchRequested,\n    onSuggestionsClearRequested: onSuggestionsClearRequested,\n    getSuggestionValue: function getSuggestionValue(suggestion) {\n      return suggestion.id.toString();\n    },\n    renderSuggestion: function renderSuggestion(suggestion) {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 41\n        }\n      }, suggestion.id);\n    },\n    onSuggestionSelected: onSuggestionSelected,\n    inputProps: inputProps,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"strong\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 9\n    }\n  }, \"Kit Status:\"), \" \", kitStatus));\n};\nexport default KitSearch;","map":{"version":3,"names":["React","useState","useEffect","axios","Autosuggest","KitSearch","_useState","_useState2","_slicedToArray","kits","setKits","_useState3","_useState4","suggestions","setSuggestions","_useState5","_useState6","inputValue","setInputValue","_useState7","_useState8","kitStatus","setKitStatus","get","then","response","data","catch","error","console","getKitStatus","kitId","concat","status","getSuggestions","value","trim","toLowerCase","inputLength","length","filter","kit","id","toString","slice","onSuggestionsFetchRequested","_ref","onSuggestionsClearRequested","onSuggestionSelected","_event","_ref2","suggestion","onChange","_ref3","newValue","inputProps","placeholder","createElement","__self","_this","__source","fileName","_jsxFileName","lineNumber","columnNumber","getSuggestionValue","renderSuggestion"],"sources":["/Users/almaknudson/biobots/biobot-kit-search/packages/frontend/src/components/KitSearch.tsx"],"sourcesContent":["import React, { useState, useEffect, ChangeEvent } from 'react';\nimport axios from 'axios';\nimport Autosuggest, { SuggestionsFetchRequestedParams, InputProps } from 'react-autosuggest';\n\ninterface Kit {\n  id: number;\n}\n\nconst KitSearch: React.FC = () => {\n  const [kits, setKits] = useState<Kit[]>([]);\n  const [suggestions, setSuggestions] = useState<Kit[]>([]);\n  const [inputValue, setInputValue] = useState<string>('');\n  const [kitStatus, setKitStatus] = useState<string>('');\n\n  // Fetch all kit ids when the component mounts\n  useEffect(() => {\n    axios.get<Kit[]>('localhost:3001/kits')\n      .then(response => {\n        setKits(response.data);\n      })\n      .catch(error => {\n        console.error('An error occurred while fetching kits:', error);\n      });\n  }, []);\n\n  // Fetching kit status based on id\n  const getKitStatus = (kitId: number) => {\n    axios.get<{ status: string }>(`localhost:3001/kit/${kitId}/status`)\n      .then(response => {\n        setKitStatus(response.data.status);\n      })\n      .catch(error => {\n        console.error('An error occurred while fetching kit status:', error);\n      });\n  };\n\n  // Autosuggest methods\n  const getSuggestions = (value: string) => {\n    const inputValue = value.trim().toLowerCase();\n    const inputLength = inputValue.length;\n\n    return inputLength === 0 ? [] : kits.filter(kit =>\n      kit.id.toString().toLowerCase().slice(0, inputLength) === inputValue\n    );\n  };\n\n  const onSuggestionsFetchRequested = ({ value }: SuggestionsFetchRequestedParams) => {\n    setSuggestions(getSuggestions(value));\n  };\n\n  const onSuggestionsClearRequested = () => {\n    setSuggestions([]);\n  };\n\n  const onSuggestionSelected = (_event: any, { suggestion }: { suggestion: Kit }) => {\n    getKitStatus(suggestion.id);\n  };\n\n  const onChange = (_event: ChangeEvent, { newValue }: { newValue: string }) => {\n    setInputValue(newValue);\n  };\n\n// Input properties\nconst inputProps: InputProps<Kit> = {\n  placeholder: 'Search for a kit...',\n  value: inputValue,\n  onChange: onChange as unknown as (event: React.FormEvent<any>, params: { newValue: string; method: string; }) => void,\n};\n\n\n  return (\n    <div>\n      <Autosuggest\n        suggestions={suggestions}\n        onSuggestionsFetchRequested={onSuggestionsFetchRequested}\n        onSuggestionsClearRequested={onSuggestionsClearRequested}\n        getSuggestionValue={suggestion => suggestion.id.toString()}\n        renderSuggestion={suggestion => <div>{suggestion.id}</div>}\n        onSuggestionSelected={onSuggestionSelected}\n        inputProps={inputProps}\n      />\n      <div>\n        <strong>Kit Status:</strong> {kitStatus}\n      </div>\n    </div>\n  );\n};\n\nexport default KitSearch;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}